{"version":3,"sources":["images/foreground.png","images/background.jpg","images/ball.png","App.js","index.js"],"names":["OverviewSection","useState","activeView","setActiveView","className","Object","keys","overviewData","map","tableName","onClick","toUpperCase","slice","headers","header","index","rows","row","item","name","time","OdiSection","data","setData","groupBy","setGroupBy","selectedCountry","selectCountry","getActiveViewLabel","useEffect","colors","getValue","input","Number","isInteger","test","parseInt","countries","odiStats","reduce","array","game","country","opposition","existingIndex","findIndex","matches","push","lineChartData","id","color","pieChartData","label","value","sort","a","b","groupedByYear","year","date","forEach","i","element","x","y","groupedByOpposition","length","console","log","activeData","margin","top","right","bottom","left","axisBottom","tickRotation","curve","enableGridX","enableArea","enableSlices","sliceTooltip","style","padding","backgroundColor","borderRadius","boxShadow","marginBottom","points","split","word","join","params","innerRadius","arcLinkLabelsDiagonalLength","arcLinkLabelsStraightLength","acc","cur","App","src","background","alt","document","querySelector","scrollIntoView","behavior","pointerEvents","foreground","ball","viewBox","xmlns","d","fill","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2f749101.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/foreground.1f116dc4.png\";","export default __webpack_public_path__ + \"static/media/background.260cfc31.jpg\";","export default __webpack_public_path__ + \"static/media/ball.eb9d317c.png\";","import { useEffect, useState } from 'react'\r\nimport overviewData from './overview.json'\r\nimport odiStats from './odi-stats.json'\r\nimport { ResponsiveLine } from '@nivo/line'\r\n\r\nimport './App.css'\r\nimport foreground from './images/foreground.png'\r\nimport background from './images/background.jpg'\r\nimport ball from './images/ball.png'\r\nimport { ResponsivePie } from '@nivo/pie'\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className='parallax'>\r\n      <section id='hero' className='parallax__group'>\r\n        <div className='parallax__layer parallax__layer--background'>\r\n          <img src={background} alt='background' />\r\n        </div>\r\n        <div className='parallax__layer parallax__layer--content info'>\r\n          <div className='infoWrapper'>\r\n            <h1>Sachin Tendulkar</h1>\r\n            <p>\r\n              Former Indian cricketer, widely regarded to be the <b>“greatest cricketer of all time”</b>.<br />\r\n              How true is it, though?\r\n            </p>\r\n            <button onClick={() => { document.querySelector('main').scrollIntoView({ behavior: 'smooth' }) }}>\r\n              Let's find out! <i className='fas fa-chevron-down' />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className='parallax__layer parallax__layer--foreground' style={{ pointerEvents: 'none' }}>\r\n          <img src={foreground} alt='foreground' />\r\n        </div>\r\n        <div className='parallax__layer parallax__layer--base ball'>\r\n          <img src={ball} alt='ball' />\r\n        </div>\r\n      </section>\r\n      <section id='body' className='parallax__group'>\r\n        <div className='parallax__layer--base'>\r\n          <svg className='svgWave' viewBox='0 0 1920 125' xmlns='http://www.w3.org/2000/svg'>\r\n            <path d='M0 95C741.907 -32.3102 1173.28 -30.7984 1920 95V125H0V95Z' fill='white' />\r\n          </svg>\r\n          <main>\r\n            <div className='container'>\r\n              <h2>Here's an overview of his career</h2>\r\n              <OverviewSection />\r\n            </div>\r\n            <div className='container'>\r\n              <h2>A closer look at his performance in ODIs</h2>\r\n              <OdiSection />\r\n            </div>\r\n          </main>\r\n        </div>\r\n        <footer>\r\n          <div className=\"container\">\r\n            Made with <i className='fas fa-coffee' />, <i className='fas fa-code' /> and <i className='fas fa-heart'></i> by Pratik\r\n            <span>|<a href='https://github.com/pratvar/epyc-task'>View on Github</a></span>\r\n          </div>\r\n        </footer>\r\n      </section>\r\n    </div >\r\n  );\r\n}\r\n\r\nconst OverviewSection = () => {\r\n  const [activeView, setActiveView] = useState('batting')\r\n  return (\r\n    <div className='overview'>\r\n      <ul className='selector'>\r\n        <span className={activeView} />\r\n        {Object.keys(overviewData).map(tableName => (\r\n          <li key={tableName}>\r\n            <button className={activeView === tableName ? 'active' : ''} onClick={() => { setActiveView(tableName) }}>\r\n              {tableName[0].toUpperCase() + tableName.slice(1)}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className={`table-slider ${activeView}`}>\r\n        {Object.keys(overviewData).map(tableName => (\r\n          <div key={tableName} className='table-wrapper'>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  {overviewData[tableName].headers.map((header, index) => <th key={index} className={index === 0 ? 'left' : ''}>{header}</th>)}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {overviewData[tableName].rows.map((row, index) => (\r\n                  <tr key={index}>\r\n                    {row.map((item, index) => typeof item === 'object'\r\n                      ? <td key={index} className={index === 0 ? 'left' : ''}>{item.name}<br /><span>{item.time}</span></td>\r\n                      : <td key={index} className={index === 0 ? 'left' : ''}>{item}</td>\r\n                    )}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst OdiSection = () => {\r\n\r\n  const [data, setData] = useState(null)\r\n  const [groupBy, setGroupBy] = useState('year')\r\n  const [activeView, setActiveView] = useState(0)\r\n  // const [countries, setCountries] = useState(null)\r\n  const [selectedCountry, selectCountry] = useState(0)\r\n\r\n  function getActiveViewLabel(activeView) {\r\n    switch (activeView) {\r\n      case 0: return 'batting_score'\r\n      case 1: return 'wickets'\r\n      case 2: return 'runs_conceded'\r\n      case 3: return 'catches'\r\n      default: break\r\n    }\r\n  }\r\n\r\n  useEffect(() => { // run only once\r\n    const colors = {\r\n      blue: '#2196f3',\r\n      yellow: '#ffc107',\r\n      red: '#f44336',\r\n      green: '#4caf50'\r\n    }\r\n    function getValue(input) {\r\n      if (Number.isInteger(input)) return input\r\n      else if (/^\\d+[*]$/.test(input)) return parseInt(input.slice(0, -1))\r\n      else return 0\r\n    }\r\n\r\n    const countries = odiStats.reduce((array, game) => {\r\n      const country = game.opposition.slice(2)\r\n      let existingIndex = array.findIndex(item => item.country === country)\r\n      let exists = existingIndex !== -1\r\n      if (exists) array[existingIndex].matches += 1\r\n      else array.push({\r\n        country,\r\n        matches: 1,\r\n        lineChartData: [\r\n          { id: 'line', color: colors.blue, data: [] },\r\n          { id: 'line', color: colors.yellow, data: [] },\r\n          { id: 'line', color: colors.red, data: [] },\r\n          { id: 'line', color: colors.green, data: [] }\r\n        ],\r\n        pieChartData: [\r\n          { id: 'Won', label: 'Won', color: colors.green, value: 0 },\r\n          { id: 'Lost', label: 'Lost', color: colors.red, value: 0 },\r\n          { id: 'Tied', label: 'Tied', color: colors.yellow, value: 0 },\r\n          { id: 'N/R', label: 'N/R', color: colors.blue, value: 0 },\r\n        ]\r\n      })\r\n      return array\r\n    }, []).sort((a, b) => b.matches - a.matches)\r\n\r\n    const groupedByYear = odiStats.reduce((data, game) => {\r\n      const year = game.date.slice(-4)\r\n      data.lineChartData.forEach((item, i) => {\r\n        let existingIndex = item.data.findIndex(element => element.x === year)\r\n        let exists = existingIndex !== -1\r\n        if (exists) item.data[existingIndex].y += getValue(game[getActiveViewLabel(i)])\r\n        else item.data.push({ x: year, y: getValue(game[getActiveViewLabel(i)]) })\r\n      })\r\n      switch (game['match_result']) {\r\n        case 'won': data.pieChartData[0].value += 1\r\n          break\r\n        case 'lost': data.pieChartData[1].value += 1\r\n          break\r\n        case 'tied': data.pieChartData[2].value += 1\r\n          break\r\n        default: data.pieChartData[3].value += 1\r\n      }\r\n      return data\r\n    }, {\r\n      lineChartData: [\r\n        { id: 'line', color: colors.blue, data: [] },\r\n        { id: 'line', color: colors.yellow, data: [] },\r\n        { id: 'line', color: colors.red, data: [] },\r\n        { id: 'line', color: colors.green, data: [] }\r\n      ],\r\n      pieChartData: [\r\n        { id: 'Won', label: 'Won', color: colors.green, value: 0 },\r\n        { id: 'Lost', label: 'Lost', color: colors.red, value: 0 },\r\n        { id: 'Tied', label: 'Tied', color: colors.yellow, value: 0 },\r\n        { id: 'N/R', label: 'N/R', color: colors.blue, value: 0 },\r\n      ]\r\n    })\r\n\r\n    const groupedByOpposition = odiStats.reduce((countries, game) => {\r\n      const country = game.opposition.slice(2)\r\n      let index = countries.findIndex(item => item.country === country)\r\n      countries[index].lineChartData.forEach((item, i) => {\r\n        item.data.push({ x: item.data.length + 1, y: getValue(game[getActiveViewLabel(i)]) })\r\n      })\r\n      switch (game['match_result']) {\r\n        case 'won': countries[index].pieChartData[0].value += 1\r\n          break\r\n        case 'lost': countries[index].pieChartData[1].value += 1\r\n          break\r\n        case 'tied': countries[index].pieChartData[2].value += 1\r\n          break\r\n        default: countries[index].pieChartData[3].value += 1\r\n      }\r\n      return countries\r\n    }, countries)\r\n\r\n    setData({\r\n      year: groupedByYear,\r\n      opposition: groupedByOpposition,\r\n    })\r\n\r\n    console.log(countries)\r\n  }, [])\r\n\r\n  // useEffect(() => {\r\n  //   if (countries && countries.length) selectCountry(countries[0])\r\n  // }, [countries])\r\n\r\n  if (!data) return null\r\n\r\n  let activeData = groupBy === 'year' ? data.year : data.opposition[selectedCountry]\r\n\r\n  return (\r\n    <div className='odi-stats'>\r\n      <div className='group-selector'>\r\n        Group by\r\n        <ul className='selector'>\r\n          <span className={groupBy} />\r\n          <li><button onClick={() => { setGroupBy('year') }} className={groupBy === 'year' ? 'active' : ''}>Year</button></li>\r\n          <li><button onClick={() => { setGroupBy('opposition') }} className={groupBy === 'opposition' ? 'active' : ''}>Opposition</button></li>\r\n        </ul>\r\n      </div>\r\n      <div className='content-wrapper'>\r\n        <ul className={`country-selector ${groupBy === 'opposition' ? 'active' : ''}`}>\r\n          {data.opposition.map((item, index) => (\r\n            <li key={item.country}>\r\n              <button className={index === selectedCountry ? 'active' : ''} onClick={() => { selectCountry(index) }}>\r\n                {item.country}\r\n                <span>{`${item.matches} ${item.matches > 1 || item.matches === 0 ? 'matches' : 'match'}`}</span>\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div className='content'>\r\n          <div className='overall-stats'>\r\n            <div className='header'>\r\n              <h3>Stats</h3>\r\n              <ul className='selector'>\r\n                <span className={'view-' + activeView} />\r\n                <li><button className={activeView === 0 ? 'active' : ''} onClick={() => { setActiveView(0) }}>Batting Score</button></li>\r\n                <li><button className={activeView === 1 ? 'active' : ''} onClick={() => { setActiveView(1) }}>Wickets</button></li>\r\n                <li><button className={activeView === 2 ? 'active' : ''} onClick={() => { setActiveView(2) }}>Runs Conceded</button></li>\r\n                <li><button className={activeView === 3 ? 'active' : ''} onClick={() => { setActiveView(3) }}>Catches</button></li>\r\n              </ul>\r\n            </div>\r\n            <div className='line-chart'>\r\n              <ResponsiveLine\r\n                data={[activeData.lineChartData[activeView]]}\r\n                margin={{ top: 5, right: 5, bottom: groupBy === 'year' ? 30 : 5, left: 35 }}\r\n                axisBottom={groupBy === 'year' ? {\r\n                  tickRotation: -45\r\n                } : null}\r\n                colors={data => data.color}\r\n                curve={'catmullRom'}\r\n                enableGridX={false}\r\n                enableArea\r\n                enableSlices='x'\r\n                sliceTooltip={({ slice }) => (\r\n                  <div style={{\r\n                    padding: '0.75em',\r\n                    backgroundColor: 'white',\r\n                    borderRadius: 5,\r\n                    boxShadow: '0 1px 2px #bdbdbd'\r\n                  }}>\r\n                    <div style={{ color: '#757575', marginBottom: '0.25em' }}>{slice.points[0].data.x}</div>\r\n                    <div>\r\n                      {getActiveViewLabel(activeView).split('_').map(word => word[0].toUpperCase() + word.slice(1)).join(' ') + ': '}\r\n                      <b>{slice.points[0].data.y}</b>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='match-stats'>\r\n            <h3>Match Results</h3>\r\n            <div className='stats-wrapper'>\r\n              <div className='pie-chart'>\r\n                <ResponsivePie\r\n                  data={activeData.pieChartData}\r\n                  margin={{ top: 15, right: 70, bottom: 15, left: 70 }}\r\n                  colors={params => params.data.color}\r\n                  innerRadius={0.4}\r\n                  arcLinkLabelsDiagonalLength={10}\r\n                  arcLinkLabelsStraightLength={15}\r\n                />\r\n              </div>\r\n              <ul>\r\n                <li>\r\n                  <i className='fas fa-baseball-ball' />\r\n                  <div>\r\n                    {activeData.pieChartData.reduce((acc, cur) => (acc + cur.value), 0)}<br />\r\n                    <span>Total</span>\r\n                  </div>\r\n                </li>\r\n                <li>\r\n                  {activeData.pieChartData[0].value}<br />\r\n                  <span>Won</span>\r\n                </li>\r\n                <li>\r\n                  {activeData.pieChartData[1].value}<br />\r\n                  <span>Lost</span>\r\n                </li>\r\n                <li>\r\n                  {activeData.pieChartData[2].value}<br />\r\n                  <span>Tied</span>\r\n                </li>\r\n                <li>\r\n                  {activeData.pieChartData[3].value}<br />\r\n                  <span>N/R</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}